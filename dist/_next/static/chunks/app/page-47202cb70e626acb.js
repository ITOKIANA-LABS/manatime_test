(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1659:function(e,t,a){Promise.resolve().then(a.bind(a,6930)),Promise.resolve().then(a.t.bind(a,8518,23))},6386:function(e,t,a){"use strict";a.d(t,{Qz:function(){return addSold},TP:function(){return deleteSold},XI:function(){return fetchSolds},uh:function(){return fetchUsers}});let o=[{id:1,firstName:"Marlon",lastName:"Brandon"},{id:2,firstName:"Darl\xe8ne Manson",lastName:"Dujon"}],r=[],fetchSolds=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";await new Promise(e=>setTimeout(e,1e3));let t=r.filter(t=>{var a;return null==t?void 0:null===(a=t.user)||void 0===a?void 0:a.firstName.toLowerCase().includes(e.toLowerCase())});return[...t]},fetchUsers=async()=>(await new Promise(e=>setTimeout(e,1e3)),o),addSold=async e=>{await new Promise(e=>setTimeout(e,1e3));let t={id:r.length>0?r[r.length-1].id+1:1,user:e.user,category:e.category,period:e.period,actualSold:e.actualSold,gotSold:e.gotSold,futurSold:e.futurSold};return r.push(t),t},deleteSold=async e=>(await new Promise(e=>setTimeout(e,1e3)),r=r.filter(t=>t.id!==e),{message:"Removed with success"})},6930:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return SoldTable_SoldTable}});var o=a(7437),r=a(2265),l=a(3428),i=a(791),s=a(7042),n=a(5600),d=a(7927),c=a(5843),u=a(6520),p=a(5702);function getTableContainerUtilityClass(e){return(0,p.Z)("MuiTableContainer",e)}(0,u.Z)("MuiTableContainer",["root"]);let h=["className","component"],useUtilityClasses=e=>{let{classes:t}=e;return(0,n.Z)({root:["root"]},getTableContainerUtilityClass,t)},g=(0,c.ZP)("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,t)=>t.root})({width:"100%",overflowX:"auto"}),y=r.forwardRef(function(e,t){let a=(0,d.Z)({props:e,name:"MuiTableContainer"}),{className:r,component:n="div"}=a,c=(0,i.Z)(a,h),u=(0,l.Z)({},a,{component:n}),p=useUtilityClasses(u);return(0,o.jsx)(g,(0,l.Z)({ref:t,as:n,className:(0,s.Z)(p.root,r),ownerState:u},c))});var m=a(9872);let b=r.createContext();function getTableUtilityClass(e){return(0,p.Z)("MuiTable",e)}(0,u.Z)("MuiTable",["root","stickyHeader"]);let v=["className","component","padding","size","stickyHeader"],Table_useUtilityClasses=e=>{let{classes:t,stickyHeader:a}=e;return(0,n.Z)({root:["root",a&&"stickyHeader"]},getTableUtilityClass,t)},x=(0,c.ZP)("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:a}=e;return[t.root,a.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>(0,l.Z)({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":(0,l.Z)({},e.typography.body2,{padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},t.stickyHeader&&{borderCollapse:"separate"})),f="table",Z=r.forwardRef(function(e,t){let a=(0,d.Z)({props:e,name:"MuiTable"}),{className:n,component:c=f,padding:u="normal",size:p="medium",stickyHeader:h=!1}=a,g=(0,i.Z)(a,v),y=(0,l.Z)({},a,{component:c,padding:u,size:p,stickyHeader:h}),m=Table_useUtilityClasses(y),Z=r.useMemo(()=>({padding:u,size:p,stickyHeader:h}),[u,p,h]);return(0,o.jsx)(b.Provider,{value:Z,children:(0,o.jsx)(x,(0,l.Z)({as:c,role:c===f?null:"table",ref:t,className:(0,s.Z)(m.root,n),ownerState:y},g))})}),C=r.createContext();function getTableHeadUtilityClass(e){return(0,p.Z)("MuiTableHead",e)}(0,u.Z)("MuiTableHead",["root"]);let T=["className","component"],TableHead_useUtilityClasses=e=>{let{classes:t}=e;return(0,n.Z)({root:["root"]},getTableHeadUtilityClass,t)},w=(0,c.ZP)("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),j={variant:"head"},S="thead",k=r.forwardRef(function(e,t){let a=(0,d.Z)({props:e,name:"MuiTableHead"}),{className:r,component:n=S}=a,c=(0,i.Z)(a,T),u=(0,l.Z)({},a,{component:n}),p=TableHead_useUtilityClasses(u);return(0,o.jsx)(C.Provider,{value:j,children:(0,o.jsx)(w,(0,l.Z)({as:n,className:(0,s.Z)(p.root,r),ref:t,role:n===S?null:"rowgroup",ownerState:u},c))})});var R=a(9975);function getTableRowUtilityClass(e){return(0,p.Z)("MuiTableRow",e)}let M=(0,u.Z)("MuiTableRow",["root","selected","hover","head","footer"]),U=["className","component","hover","selected"],TableRow_useUtilityClasses=e=>{let{classes:t,selected:a,hover:o,head:r,footer:l}=e;return(0,n.Z)({root:["root",a&&"selected",o&&"hover",r&&"head",l&&"footer"]},getTableRowUtilityClass,t)},H=(0,c.ZP)("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:a}=e;return[t.root,a.head&&t.head,a.footer&&t.footer]}})(({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${M.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${M.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,R.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:(0,R.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)}}})),N=r.forwardRef(function(e,t){let a=(0,d.Z)({props:e,name:"MuiTableRow"}),{className:n,component:c="tr",hover:u=!1,selected:p=!1}=a,h=(0,i.Z)(a,U),g=r.useContext(C),y=(0,l.Z)({},a,{component:c,hover:u,selected:p,head:g&&"head"===g.variant,footer:g&&"footer"===g.variant}),m=TableRow_useUtilityClasses(y);return(0,o.jsx)(H,(0,l.Z)({as:c,ref:t,className:(0,s.Z)(m.root,n),role:"tr"===c?null:"row",ownerState:y},h))});var _=a(8702);function getTableCellUtilityClass(e){return(0,p.Z)("MuiTableCell",e)}let P=(0,u.Z)("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),$=["align","className","component","padding","scope","size","sortDirection","variant"],TableCell_useUtilityClasses=e=>{let{classes:t,variant:a,align:o,padding:r,size:l,stickyHeader:i}=e,s={root:["root",a,i&&"stickyHeader","inherit"!==o&&`align${(0,_.Z)(o)}`,"normal"!==r&&`padding${(0,_.Z)(r)}`,`size${(0,_.Z)(l)}`]};return(0,n.Z)(s,getTableCellUtilityClass,t)},z=(0,c.ZP)("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:a}=e;return[t.root,t[a.variant],t[`size${(0,_.Z)(a.size)}`],"normal"!==a.padding&&t[`padding${(0,_.Z)(a.padding)}`],"inherit"!==a.align&&t[`align${(0,_.Z)(a.align)}`],a.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>(0,l.Z)({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid
    ${"light"===e.palette.mode?(0,R.$n)((0,R.Fq)(e.palette.divider,1),.88):(0,R._j)((0,R.Fq)(e.palette.divider,1),.68)}`,textAlign:"left",padding:16},"head"===t.variant&&{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},"body"===t.variant&&{color:(e.vars||e).palette.text.primary},"footer"===t.variant&&{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},"small"===t.size&&{padding:"6px 16px",[`&.${P.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},"checkbox"===t.padding&&{width:48,padding:"0 0 0 4px"},"none"===t.padding&&{padding:0},"left"===t.align&&{textAlign:"left"},"center"===t.align&&{textAlign:"center"},"right"===t.align&&{textAlign:"right",flexDirection:"row-reverse"},"justify"===t.align&&{textAlign:"justify"},t.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default})),A=r.forwardRef(function(e,t){let a;let n=(0,d.Z)({props:e,name:"MuiTableCell"}),{align:c="inherit",className:u,component:p,padding:h,scope:g,size:y,sortDirection:m,variant:v}=n,x=(0,i.Z)(n,$),f=r.useContext(b),Z=r.useContext(C),T=Z&&"head"===Z.variant,w=g;"td"===(a=p||(T?"th":"td"))?w=void 0:!w&&T&&(w="col");let j=v||Z&&Z.variant,S=(0,l.Z)({},n,{align:c,component:a,padding:h||(f&&f.padding?f.padding:"normal"),size:y||(f&&f.size?f.size:"medium"),sortDirection:m,stickyHeader:"head"===j&&f&&f.stickyHeader,variant:j}),k=TableCell_useUtilityClasses(S),R=null;return m&&(R="asc"===m?"ascending":"descending"),(0,o.jsx)(z,(0,l.Z)({as:a,ref:t,className:(0,s.Z)(k.root,u),"aria-sort":R,scope:w,ownerState:S},x))});function getTableBodyUtilityClass(e){return(0,p.Z)("MuiTableBody",e)}(0,u.Z)("MuiTableBody",["root"]);let B=["className","component"],TableBody_useUtilityClasses=e=>{let{classes:t}=e;return(0,n.Z)({root:["root"]},getTableBodyUtilityClass,t)},O=(0,c.ZP)("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),D={variant:"body"},F="tbody",q=r.forwardRef(function(e,t){let a=(0,d.Z)({props:e,name:"MuiTableBody"}),{className:r,component:n=F}=a,c=(0,i.Z)(a,B),u=(0,l.Z)({},a,{component:n}),p=TableBody_useUtilityClasses(u);return(0,o.jsx)(C.Provider,{value:D,children:(0,o.jsx)(O,(0,l.Z)({className:(0,s.Z)(p.root,r),as:n,ref:t,role:n===F?null:"rowgroup",ownerState:u},c))})});var L=a(9227),E=a(2653),Q=a(3283),W=a(7292),I=a(9804),X=a(2079),J=a(1797),K=a(6337),G=a(4173),V=a(2834),Y=a(9050),ee=a(9077),et=a(6386),SoldTable_SoldTable=function(){let[e,t]=r.useState(!1),[a,l]=r.useState(!1),[i,s]=r.useState(0),{data:n,isLoading:d}=(0,ee.useQuery)({queryFn:()=>(0,et.XI)(),queryKey:["solds"]}),c=(0,ee.useQueryClient)(),{mutateAsync:u}=(0,ee.useMutation)({mutationFn:et.TP,onSuccess:()=>{l(!0),t(!1),c.invalidateQueries(["solds"])}}),handleClick=()=>{t(!e)},handleClickDel=a=>{t(!e),s(a)};return d?(0,o.jsx)("div",{children:"Loading..."}):(0,o.jsxs)(y,{component:m.Z,children:[(0,o.jsxs)(Z,{sx:{minWidth:650},"aria-label":"simple table",children:[(0,o.jsx)(k,{children:(0,o.jsxs)(N,{children:[(0,o.jsx)(A,{children:"Utilisateurs"}),(0,o.jsx)(A,{children:"Categorie"}),(0,o.jsx)(A,{children:"Periode"}),(0,o.jsx)(A,{children:"Solde actuel"}),(0,o.jsx)(A,{children:"Solde pris"}),(0,o.jsx)(A,{children:"Solde futur"}),(0,o.jsx)(A,{})]})}),(0,o.jsx)(q,{children:null==n?void 0:n.map(e=>{var t,a;return(0,o.jsxs)(N,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,o.jsx)(A,{component:"th",scope:"row",children:"".concat(null===(t=e.user)||void 0===t?void 0:t.firstName," ").concat(null===(a=e.user)||void 0===a?void 0:a.lastName)}),(0,o.jsx)(A,{component:"th",scope:"row",children:e.category}),(0,o.jsx)(A,{component:"th",scope:"row",children:e.period}),(0,o.jsx)(A,{component:"th",scope:"row",children:e.actualSold}),(0,o.jsx)(A,{component:"th",scope:"row",children:e.gotSold}),(0,o.jsx)(A,{component:"th",scope:"row",children:e.futurSold}),(0,o.jsx)(A,{component:"th",scope:"row",children:(0,o.jsxs)(L.Z,{sx:{display:"flex"},children:[(0,o.jsx)(E.Z,{children:(0,o.jsx)(Q.Z,{src:"./images/Ajuster.svg"})}),(0,o.jsx)(E.Z,{children:(0,o.jsx)(Q.Z,{src:"./images/Transferer.svg"})}),(0,o.jsx)(E.Z,{onClick:()=>handleClickDel(e.id),children:(0,o.jsx)(Q.Z,{src:"./images/Solder.svg"})})]})})]},e.id)})})]}),(0,o.jsx)(W.Z,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:a,autoHideDuration:6e3,onClose:()=>l(!a),children:(0,o.jsx)(I.Z,{onClose:()=>l(!a),severity:"success",sx:{width:"100%"},children:"Solde supprim\xe9 avec succ\xe8s"})}),(0,o.jsxs)(X.Z,{open:e,onClose:handleClick,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,o.jsx)(J.Z,{id:"alert-dialog-title",children:"Suppression de ligne"}),(0,o.jsx)(K.Z,{children:(0,o.jsx)(G.Z,{id:"alert-dialog-description",children:"Etes-vous sure de vouloir supprim\xe9 ce solde?"})}),(0,o.jsxs)(V.Z,{children:[(0,o.jsx)(Y.Z,{onClick:handleClick,children:"Annuler"}),(0,o.jsx)(Y.Z,{color:"error",onClick:()=>u(i),autoFocus:!0,children:"Confirmer"})]})]})]})}},8518:function(e){e.exports={main:"page_main__nw1Wk"}}},function(e){e.O(0,[461,971,864,744],function(){return e(e.s=1659)}),_N_E=e.O()}]);